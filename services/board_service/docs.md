# Board Service

Микросервис, отвечающий за управление досками (`Board`). Он предоставляет API для создания, обновления, удаления и поиска досок, а также обрабатывает бизнес-логику, связанную с этими сущностями.

## Архитектура

Board Service является частью микросервисной архитектуры. Он работает на **FastAPI** и использует **PostgreSQL** как основную базу данных. Взаимодействие с базой данных выполняется асинхронно с помощью **SQLAlchemy**.

### **Основные компоненты:**
- **`board/`** - модуль, содержащий всю логику работы с досками.
- **`column/`** - модуль, содержащий всю логику работы с колонками на досках.
- **`database.py`** – Подключение к базе данных. Управляет соединением с PostgreSQL.
- **`Dockerfile`** – Контейнеризация. Позволяет развернуть сервис в Docker.

## Описание файлов

### `main.py`

Основной файл сервиса, отвечающий за запуск FastAPI, регистрацию маршрутов и подключение к базе данных.

#### **Основные компоненты:**
- **Инициализация FastAPI** и регистрация API-маршрутов.
- **Запуск `lifespan`-функции** для создания таблиц в базе данных при старте сервиса.
- **Зависимость от `check_api_key`** для обеспечения безопасности API.

---

### `database.py`

Отвечает за создание подключения к базе данных и управление сессиями.

#### **Основные компоненты:**
- **Асинхронный движок SQLAlchemy** для работы с PostgreSQL.
- **Фабрика сессий (`async_sessionmaker`)** для управления транзакциями.
- **Функция `create_tables()`**, создающая таблицы в базе данных при запуске.

---

### `Dockerfile`

Определяет, как контейнеризуется Board Service в среде Docker.

---

### `board/`

Модуль, содержащий всю логику работы с досками. Включает:

- Модель **`BoardOrm`** для описания структуры данных.
- Функции в **`repository.py`** для работы с базой данных.
- API-маршруты в **`router.py`** для взаимодействия с пользователями.

Подробная информация в документации модуля **`board/`**.

---

### `column/`

Модуль, содержащий всю логику работы с колонками, принадлежащими доскам. Включает:

- Модель **`ColumnOrm`** для описания структуры данных.
- Функции в **`repository.py`** для работы с базой данных.
- API-маршруты в **`router.py`** для взаимодействия с пользователями.

Подробная информация в документации модуля **`column/`**.